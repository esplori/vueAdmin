!function(e){"use strict";var t;function n(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?decodeURIComponent(t[2]):null}function i(e,t){if(navigator.sendBeacon){let n={type:"application/x-www-form-urlencoded"},i=new Blob([JSON.stringify(t)],n);return navigator.sendBeacon(e,i)}return!1}function o(e){let t=[];for(let n in e)t.push(n+"="+e[n]);return t.join("&")}function r(e,t,n){let r=o(t);(e+(e.indexOf("?")<0?"?":"&")+r).length<2083?function(e,t,n){if(!e||!t)return;let i=document.createElement("img"),r=[];r=o(t),new Date,i.onload=i.onerror=function(e){n&&n(e)};let s=e+(e.indexOf("?")<0?"?":"&")+r;i.src=s}(e,t,n):n&&i(e,t)?n():function(e,t,n){var i=new XMLHttpRequest;i.open("POST",e,!1),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.send(JSON.stringify(t)),i.onload=(e=>{n&&n(e)})}(e,t,n)}var s={userAgent:navigator.userAgent.toLowerCase(),getBrowse:function(){var e,t={};(e=this.userAgent.match(/msie ([\d.]+)/))?t.ie=e[1]:(e=this.userAgent.match(/firefox\/([\d.]+)/))?t.firefox=e[1]:(e=this.userAgent.match(/chrome\/([\d.]+)/))?t.chrome=e[1]:(e=this.userAgent.match(/opera.([\d.]+)/))?t.opera=e[1]:(e=this.userAgent.match(/version\/([\d.]+).*safari/))&&(t.safari=e[1]);return t.ie?"IE "+t.ie:t.firefox?"firefox "+t.firefox:t.chrome?"chrome "+t.chrome:t.opera?"opera "+t.opera:t.safari?"safari "+t.safari:"未知浏览器"},getPlatform:function(){var e="ipad"==this.userAgent.match(/ipad/i)?"ipad":"",t="iphone os"==this.userAgent.match(/iphone os/i)?"iphone os":"",n="midp"==this.userAgent.match(/midp/i)?"midp":"",i="rv:1.2.3.4"==this.userAgent.match(/rv:1.2.3.4/i)?"rv:1.2.3.4":"",o="ucweb"==this.userAgent.match(/ucweb/i)?"ucweb":"",r="android"==this.userAgent.match(/android/i)?"android":"",s="windows ce"==this.userAgent.match(/windows ce/i)?"windows ce":"",a="windows mobile"==this.userAgent.match(/windows mobile/i)?"windows mobile":"";return e||t||n||i||o||r||s||a?e||t||n||i||o||r||s||a:"pc"}};function a(e){this._init(e);let t=this;function i(e,i){if(i&&t._config.routeMode!==i)return;let o=sessionStorage.getItem("startView")&&JSON.parse(sessionStorage.getItem("startView")),s=sessionStorage.getItem("during")&&JSON.parse(sessionStorage.getItem("during"));if(o){let e={currentTime:parseInt((new Date).getTime()),duringTime:(new Date).getTime()-parseInt(o.duringTime),url:o.url};sessionStorage.setItem("during",JSON.stringify(s?s.concat(e):[e])),sessionStorage.removeItem("startView")}sessionStorage.setItem("startView",JSON.stringify({duringTime:(new Date).getTime(),url:window.location.href})),t.setPV(parseInt(sessionStorage.getItem("pv"))?parseInt(sessionStorage.getItem("pv"))+1:1),sessionStorage.setItem("pv",t._pv),t.getUserId()&&!n(this._userId)&&t.getConfig().autoUpload&&r(t.getConfig().baseUrl+t.getConfig().url,{[t.getConfig().prop.pv]:t._pv,[t.getConfig().prop.id]:t.getUserId()},()=>{sessionStorage.removeItem("pv")})}const o=function(e){const t=history[e];return function(){const n=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,window.dispatchEvent(i),n}};history.pushState=o("pushState"),history.replaceState=o("replaceState"),window.addEventListener("replaceState",i),window.addEventListener("pushState",i),window.onpopstate=i,window.onunload=i,window.addEventListener("hashchange",function(e){i(0,"hash")}),window.onload=(()=>{sessionStorage.getItem("startView"),sessionStorage.setItem("startView",JSON.stringify({time:(new Date).getTime(),url:window.location.href}))})}a.prototype={constructor:this,_pv:0,_leaveTime:0,_config:{},_defaultConfig:{baseUrl:"",url:"",routeMode:"history",autoUpload:!0,prop:{uv:"uv",pv:"pv",id:"id",mVisits:"mVisits",domain:"domain",title:"title",referrer:"referrer",screen:"screen",lang:"lang",userAgent:"userAgent",os:"os",browse:"browse",device:"device",href:"href"}},_directData:{domain:document.domain,title:document.title,referrer:document.referrer,screen:window.screen.width+"x"+window.screen.height,lang:navigator.language,userAgent:navigator.userAgent,os:function(){var e=navigator.userAgent,t="Win32"==navigator.platform||"Windows"==navigator.platform,n="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;if(n)return navigator.platform;if("X11"==navigator.platform&&!t&&!n)return"Unix";if(String(navigator.platform).indexOf("Linux")>-1)return navigator.platform;if(t){if(e.indexOf("Windows NT 5.0")>-1||e.indexOf("Windows 2000")>-1)return"Win2000";if(e.indexOf("Windows NT 5.1")>-1||e.indexOf("Windows XP")>-1)return"WinXP";if(e.indexOf("Windows NT 5.2")>-1||e.indexOf("Windows 2003")>-1)return"Win2003";if(e.indexOf("Windows NT 6.0")>-1||e.indexOf("Windows Vista")>-1)return"WinVista";if(e.indexOf("Windows NT 6.1")>-1||e.indexOf("Windows 7")>-1)return"Win7";if(e.indexOf("Windows NT 10")>-1||e.indexOf("Windows 10")>-1)return"Win10"}return""}()||s.getPlatform(),browse:s.getBrowse(),device:s.getPlatform(),hrefs:window.location.href},getConfig:function(){return this._config},getDirectData:function(){return this._directData},setUserId:function(e){this._userId=e,this.setUV(),sessionStorage.setItem("first_in",(new Date).getTime()),window.addEventListener("beforeunload",e=>{sessionStorage.setItem("last_leave",(new Date).getTime())}),window.addEventListener("unload",e=>{if((new Date).getTime()-sessionStorage.getItem("last_leave")<5){let e=(new Date).getTime()-sessionStorage.getItem("first_in");this.getConfig().autoUpload&&i(this.getConfig().baseUrl+this.getConfig().url,{onlineTime:e}),sessionStorage.setItem("onlineTime",e)}})},getUserId:function(){return this._userId},_init:function(e){this._config=function e(){var t={},n=!1,i=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],i++);for(var o=function(i){for(var o in i)i.hasOwnProperty(o)&&(n&&"[object Object]"===Object.prototype.toString.call(i[o])?t[o]=e(t[o],i[o]):t[o]=i[o])};i<arguments.length;i++)o(arguments[i]);return t}(!0,this._defaultConfig,e)},getPV:function(){return this._pv},setPV:function(e){this._pv=e},clearPV:function(){sessionStorage.removeItem("pv")},setUV:function(){var e,t,i;this._userId&&!n(this._userId)&&(this.getConfig().autoUpload&&r(this.getConfig().baseUrl+this.getConfig().url,{[this.getConfig().prop.uv]:1,[this.getConfig().prop.id]:this.getUserId()},()=>{}),e=this._userId,t=1,i=864e5,document.cookie=i?e+"="+encodeURIComponent(t)+";max-age="+i:e+"="+encodeURIComponent(t)+";")},getFirstLogin:()=>sessionStorage.getItem("first_in"),getOnlineTime:()=>sessionStorage.getItem("onlineTime"),getReq:function(){return function(){let e=[];return window.performance.getEntries().forEach((t,n)=>{let i={};["navigation","script","css","fetch","xmlhttprequest","link","img"].indexOf(t.initiatorType)>-1&&(i.name=t.name,i.nextHopProtocol=t.nextHopProtocol,i.dnsTime=t.domainLookupEnd-t.domainLookupStart,i.tcpTime=t.connectEnd-t.connectStart,i.reqTime=t.responseEnd-t.responseStart,i.redirectTime=t.redirectEnd-t.redirectStart,e.push(i))}),e}()},getModuleVisits:function(){return sessionStorage.getItem("during")},track:function(e,t,n){r(e,t,n)}},t=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):!("WebStats"in t)&&(t.WebStats=a)}();